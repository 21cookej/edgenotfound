<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Edge Not Found</title>
    <style>html, body, canvas {width:100%;height: 100%;margin: 0;overflow: hidden;}</style>
    <link rel="icon" type="image/ico"><meta property="og:title" content="Edge Not Found" /><meta property="og:description" content="Edge Not Found is a Sokoban-style puzzle game set on an infinitely repeating grid. Push the boxes to the targets in ~20 puzzles." /></head><body><noscript>Please enable Javascript to play this game!</noscript><canvas id="canvas" width="500" height="500"> </canvas>
    <script>function ba(b){var f=0;return function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}}}function ca(b){var f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return f?f.call(b):{next:ba(b)}}function da(b){if(!(b instanceof Array)){b=ca(b);for(var f,n=[];!(f=b.next()).done;)n.push(f.value);b=n}return b}var ea="function"==typeof Object.create?Object.create:function(b){function f(){}f.prototype=b;return new f},fa;
        if("function"==typeof Object.setPrototypeOf)fa=Object.setPrototypeOf;else{var ha;a:{var ia={ta:!0},ja={};try{ja.__proto__=ia;ha=ja.ta;break a}catch(b){}ha=!1}fa=ha?function(b,f){b.__proto__=f;if(b.__proto__!==f)throw new TypeError(b+" is not extensible");return b}:null}var ka=fa;
        function la(b,f){b.prototype=ea(f.prototype);b.prototype.constructor=b;if(ka)ka(b,f);else for(var n in f)if("prototype"!=n)if(Object.defineProperties){var l=Object.getOwnPropertyDescriptor(f,n);l&&Object.defineProperty(b,n,l)}else b[n]=f[n]}function ma(){this.ma=new Date;this.ba=this.f=0}ma.prototype.update=function(b){b=void 0===b?null:b;var f=new Date;this.f=b?b:(f-this.ma)/1E3;this.ma=f;this.ba+=this.f};
        function na(b,f){var n=oa,l=.1,p=this;f=void 0===f?null:f;l=void 0===l?0:l;this.g=0;this.L=[];this.K=[];this.ca=void 0===n?null:n;this.C=this.R=0;this.m=!1;this.Na=l;this.Fa=l+.2;this.state=this.A=this.s=0;b&&b.forEach(function(r){window.addEventListener("keydown",function(q){if(q.code==r||q.keyCode==r)q=pa(p.L,r),q.ga&&(p.L=q.ea,qa(p))});window.addEventListener("keyup",function(q){if(q.code==r||q.keyCode==r)p.L=ra(p.L,r),qa(p)})});f&&f.forEach(function(r){window.addEventListener("keydown",function(q){if(q.code==
        r||q.keyCode==r)q=pa(p.K,r),q.ga&&(p.K=q.ea,qa(p))});window.addEventListener("keyup",function(q){if(q.code==r||q.keyCode==r)p.K=ra(p.K,r),qa(p)})})}function qa(b){var f=b.L.length-b.K.length;0<f&&1!=b.g?(b.g=1,b.C=0,b.A=0,b.s=0):0>f&&-1!=b.g?(b.g=-1,b.C=0,b.A=0,b.s=0):0!=b.g&&(b.g=0,b.C=0,b.A=0,b.s=0)}
        na.prototype.update=function(){this.ca&&0!=this.g?(this.C+=this.ca.f,this.s+=this.ca.f,0==this.R||1<this.A&&this.s>=this.Na||1>=this.A&&this.s>=this.Fa?(this.m=!0,this.A+=1,this.s=0):this.m=!1):this.m=!1;this.state=0==this.g?0!=this.R?3:0:0==this.R?1:2;this.R=this.C};function pa(b,f){var n=!1;-1===b.indexOf(f)&&(b.push(f),n=!0);return{ea:b,ga:n}}function ra(b,f){var n=b.indexOf(f);-1<n&&b.splice(n,1);return b}
        var sa=function(){function b(a,c){this.canvas=a;this.va=this.canvas.getContext("2d");this.H=new f(c)}function f(a){this.G={J:2,aa:1,fa:1,stroke:"#000",strokeWidth:1,xa:0,wa:.95,W:9,fillStyle:"hachure",u:-1,ka:-41,la:-1,Ra:-1,Qa:-1,Wa:-1,b:0,Pa:!1,ia:!1,ya:!1};this.ha=a||{};this.ha.options&&(this.G=this.M(this.ha.options))}function n(a){this.b=a}function l(a){this.I=a}function p(){return r.apply(this,arguments)||this}function r(a){this.I=a}function q(a,c,d){if(a&&a.length){c=ca(c);var g=c.next().value,
        e=c.next().value;d*=Math.PI/180;var h=Math.cos(d),t=Math.sin(d);a.forEach(function(m){var z=ca(m),B=z.next().value;z=z.next().value;m[0]=(B-g)*h-(z-e)*t+g;m[1]=(B-g)*t+(z-e)*h+e})}}function k(a){var c=a[0];a=a[1];return Math.sqrt(Math.pow(c[0]-a[0],2)+Math.pow(c[1]-a[1],2))}function w(a,c,d,g){var e=c[1]-a[1];c=a[0]-c[0];a=e*a[0]+c*a[1];var h=g[1]-d[1];g=d[0]-g[0];d=h*d[0]+g*d[1];var t=e*g-h*c;return t?[(g*a-c*d)/t,(e*d-h*a)/t]:null}function v(a,c,d){var g=a.length;if(3>g)return!1;var e=[Number.MAX_SAFE_INTEGER,
        d];c=[c,d];for(var h=d=0;h<g;h++){var t=a[h],m=a[(h+1)%g];if(Q(t,m,c,e)){if(0===R(t,c,m))return K(t,c,m);d++}}return 1==d%2}function K(a,c,d){return c[0]<=Math.max(a[0],d[0])&&c[0]>=Math.min(a[0],d[0])&&c[1]<=Math.max(a[1],d[1])&&c[1]>=Math.min(a[1],d[1])}function R(a,c,d){a=(c[1]-a[1])*(d[0]-c[0])-(c[0]-a[0])*(d[1]-c[1]);return 0===a?0:0<a?1:2}function Q(a,c,d,g){var e=R(a,c,d),h=R(a,c,g),t=R(d,g,a),m=R(d,g,c);return e!==h&&t!==m||!(0!==e||!K(a,d,c))||!(0!==h||!K(a,g,c))||!(0!==t||!K(d,a,g))||!(0!==
        m||!K(d,c,g))}function D(a,c){var d=[0,0],g=Math.round(c.ka+90);g&&q(a,d,g);var e=function(h,t){var m=[].concat(da(h));m[0].join(",")!==m[m.length-1].join(",")&&m.push([m[0][0],m[0][1]]);var z=[];if(m&&2<m.length){var B=t.la;0>B&&(B=4*t.strokeWidth);B=Math.max(B,.1);for(var J=[],M=0;M<m.length-1;M++){var Y=m[M],Z=m[M+1];if(Y[1]!==Z[1]){var Ia=Math.min(Y[1],Z[1]);J.push({F:Ia,B:Math.max(Y[1],Z[1]),x:Ia===Y[1]?Y[0]:Z[0],Ga:(Z[0]-Y[0])/(Z[1]-Y[1])})}}if(J.sort(function(V,va){return V.F<va.F?-1:V.F>va.F?
        1:V.x<va.x?-1:V.x>va.x?1:V.B===va.B?0:(V.B-va.B)/Math.abs(V.B-va.B)}),!J.length)return z;for(var wa=[],Za=J[0].F;wa.length||J.length;){if(J.length){m=-1;for(M=0;M<J.length&&!(J[M].F>Za);M++)m=M;J.splice(0,m+1).forEach(function(V){wa.push({Ua:Za,h:V})})}if(wa=wa.filter(function(V){return!(V.h.B<=Za)}),wa.sort(function(V,va){return V.h.x===va.h.x?0:(V.h.x-va.h.x)/Math.abs(V.h.x-va.h.x)}),1<wa.length)for(m=0;m<wa.length;m+=2){M=m+1;if(M>=wa.length)break;z.push([[Math.round(wa[m].h.x),Za],[Math.round(wa[M].h.x),
        Za]])}Za+=B;wa.forEach(function(V){V.h.x+=B*V.h.Ga})}}return z}(a,c);return g&&(q(a,d,-g),function(h,t,m){var z=[];h.forEach(function(B){return z.push.apply(z,da(B))});q(z,t,m)}(e,d,-g)),e}function S(a,c,d){var g=2*Math.PI/Math.max(d.W,d.W/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(a/2,2)+Math.pow(c/2,2))/2)));a=Math.abs(a/2);c=Math.abs(c/2);var e=1-d.wa;return a+=A(a*e,d),c+=A(c*e,d),{Y:g,ra:a,sa:c}}function W(a,c,d,g){var e=ca(Ba(g.Y,a,c,g.ra,g.sa,1,g.Y*I(.1,I(.4,1,d),d),d)),h=e.next().value;
        e=e.next().value;h=$a(h,null,d);d.ia||(a=ca(Ba(g.Y,a,c,g.ra,g.sa,1.5,0,d)).next().value,d=$a(a,null,d),h=h.concat(d));return{Ba:e,$:{type:"path",o:h}}}function C(a,c){var d=[];if(a.length){var g=c.J||0,e=a.length;if(2<e){d.push({i:"move",data:[a[0][0]+A(g,c),a[0][1]+A(g,c)]});for(var h=1;h<e;h++)d.push({i:"lineTo",data:[a[h][0]+A(g,c),a[h][1]+A(g,c)]})}}return{type:"fillPath",o:d}}function u(a,c){var d=c.fillStyle||"hachure";if(!xa[d])switch(d){case "zigzag":xa[d]||(xa[d]=new p(U));break;case "dots":xa[d]||
        (xa[d]=new l(U));break;default:d="hachure",xa[d]||(xa[d]=new r(U))}return xa[d].X(a,c)}function E(a){return a.qa||(a.qa=new n(a.b||0)),a.qa.next()}function I(a,c,d,g){return d.aa*(void 0===g?1:g)*(E(d)*(c-a)+a)}function A(a,c,d){return I(-a,a,c,void 0===d?1:d)}function aa(a,c,d,g,e,h){var t=(void 0===h?0:h)?e.ya:e.ia;h=nb(a,c,d,g,e,!0,!1);if(t)return h;a=nb(a,c,d,g,e,!0,!0);return h.concat(a)}function nb(a,c,d,g,e,h,t){function m(){return A(M,e,1)}function z(){return A(Y,e,1)}var B=Math.pow(a-d,2)+
        Math.pow(c-g,2),J=Math.sqrt(B),M=e.J||0;M*M*100>B&&(M=J/10);var Y=M/2;B=.2+.2*E(e);J=e.fa*e.J*(g-c)/200;var Z=e.fa*e.J*(a-d)/200;J=A(J,e,1);Z=A(Z,e,1);var Ia=[];return h&&(t?Ia.push({i:"move",data:[a+z(),c+z()]}):Ia.push({i:"move",data:[a+A(M,e,1),c+A(M,e,1)]})),t?Ia.push({i:"bcurveTo",data:[J+a+(d-a)*B+z(),Z+c+(g-c)*B+z(),J+a+2*(d-a)*B+z(),Z+c+2*(g-c)*B+z(),d+z(),g+z()]}):Ia.push({i:"bcurveTo",data:[J+a+(d-a)*B+m(),Z+c+(g-c)*B+m(),J+a+2*(d-a)*B+m(),Z+c+2*(g-c)*B+m(),d+m(),g+m()]}),Ia}function $a(a,
        c,d){var g=a.length,e=[];if(3<g){var h=[],t=1-d.xa;e.push({i:"move",data:[a[1][0],a[1][1]]});for(var m=1;m+2<g;m++){var z=a[m];h[0]=[z[0],z[1]];h[1]=[z[0]+(t*a[m+1][0]-t*a[m-1][0])/6,z[1]+(t*a[m+1][1]-t*a[m-1][1])/6];h[2]=[a[m+1][0]+(t*a[m][0]-t*a[m+2][0])/6,a[m+1][1]+(t*a[m][1]-t*a[m+2][1])/6];h[3]=[a[m+1][0],a[m+1][1]];e.push({i:"bcurveTo",data:[h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]]})}c&&2===c.length&&(a=d.J,e.push({i:"lineTo",data:[c[0]+A(a,d),c[1]+A(a,d)]}))}else 3===g?(e.push({i:"move",
        data:[a[1][0],a[1][1]]}),e.push({i:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[2][0],a[2][1]]})):2===g&&e.push.apply(e,da(aa(a[0][0],a[0][1],a[1][0],a[1][1],d)));return e}function Ba(a,c,d,g,e,h,t,m){var z=[],B=[],J=A(.5,m)-Math.PI/2;B.push([A(h,m)+c+.9*g*Math.cos(J-a),A(h,m)+d+.9*e*Math.sin(J-a)]);for(var M=J;M<2*Math.PI+J-.01;M+=a){var Y=[A(h,m)+c+g*Math.cos(M),A(h,m)+d+e*Math.sin(M)];z.push(Y);B.push(Y)}return B.push([A(h,m)+c+g*Math.cos(J+2*Math.PI+.5*t),A(h,m)+d+e*Math.sin(J+2*Math.PI+
        .5*t)]),B.push([A(h,m)+c+.98*g*Math.cos(J+t),A(h,m)+d+.98*e*Math.sin(J+t)]),B.push([A(h,m)+c+.9*g*Math.cos(J+.5*t),A(h,m)+d+.9*e*Math.sin(J+.5*t)]),[B,z]}r.prototype.X=function(a,c){return this.da(a,c)};r.prototype.da=function(a,c,d){d=void 0===d?!1:d;var g=D(a,c);d&&(a=this.ua(a,g),g=g.concat(a));return{type:"fillSketch",o:this.Ia(g,c)}};r.prototype.Ia=function(a,c){for(var d=[],g=ca(a),e=g.next();!e.done;e=g.next())e=e.value,d.push.apply(d,da(this.I.Aa(e[0][0],e[0][1],e[1][0],e[1][1],c)));return d};
        r.prototype.ua=function(a,c){var d=[];if(1<c.length)for(var g=1;g<c.length;g++){var e=c[g-1];3>k(e)||(e=[c[g][0],e[1]],3<k(e)&&(e=this.Ka(a,e),d.push.apply(d,da(e))))}return d};r.prototype.Z=function(a,c){return v(a,(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2)};r.prototype.Ka=function(a,c){for(var d=Math.max(5,.1*k(c)),g=[],e=0;e<a.length;e++){var h=a[e],t=a[(e+1)%a.length];if(Q.apply(null,[h,t].concat(da(c)))&&(h=w(h,t,c[0],c[1]))){t=k([h,c[0]]);var m=k([h,c[1]]);t>d&&m>d&&g.push({Ha:h,ja:t})}}if(1<
        g.length){d=g.sort(function(z,B){return z.ja-B.ja}).map(function(z){return z.Ha});if(v.apply(null,[a].concat(da(c[0])))||d.shift(),v.apply(null,[a].concat(da(c[1])))||d.pop(),1>=d.length)return this.Z(a,c)?[c]:[];d=[c[0]].concat(da(d),[c[1]]);g=[];for(e=0;e<d.length-1;e+=2)h=[d[e],d[e+1]],this.Z(a,h)&&g.push(h);return g}return this.Z(a,c)?[c]:[]};la(p,r);p.prototype.X=function(a,c){return this.da(a,c,!0)};l.prototype.X=function(a,c){var d=D(a,c=Object.assign({},c,{W:4,ka:0,aa:1}));return this.za(d,
        c)};l.prototype.za=function(a,c){var d=[],g=c.la;0>g&&(g=4*c.strokeWidth);g=Math.max(g,.1);var e=c.u;0>e&&(e=c.strokeWidth/2);for(var h=g/4,t=ca(a),m=t.next();!m.done;m=t.next()){var z=m.value,B=k(z);m=Math.ceil(B/g)-1;B-=m*g;var J=(z[0][0]+z[1][0])/2-g/4;z=Math.min(z[0][1],z[1][1]);for(var M=0;M<m;M++){var Y=z+B+M*g,Z=this.I.pa(J-h,J+h,c);Y=this.I.pa(Y-h,Y+h,c);Z=this.I.ellipse(Z,Y,e,e,c);d.push.apply(d,da(Z.o))}}return{type:"fillSketch",o:d}};var xa={};n.prototype.next=function(){return this.b?
        (Math.pow(2,31)-1&(this.b=Math.imul(48271,this.b)))/Math.pow(2,31):Math.random()};var U={Ta:function(a,c){return A(a,c)},pa:function(a,c,d){return I(a,c,d)},ellipse:function(a,c,d,g,e){d=S(d,g,e);return W(a,c,e,d).$},Aa:function(a,c,d,g,e){return aa(a,c,d,g,e,!0)}};f.oa=function(){return Math.floor(Math.random()*Math.pow(2,31))};f.prototype.M=function(a){return a?Object.assign({},this.G,a):this.G};f.prototype.S=function(a,c,d){return{shape:a,Ja:c||[],options:d||this.G}};f.prototype.line=function(a,
        c,d,g,e){e=this.M(e);return this.S("line",[{type:"path",o:aa(a,c,d,g,e)}],e)};f.prototype.j=function(a,c,d,g,e){e=this.M(e);var h=[];var t=[[a,c],[a+d,c],[a+d,c+g],[a,c+g]];var m=(t||[]).length;if(2<m){for(var z=[],B=0;B<m-1;B++)z.push.apply(z,da(aa(t[B][0],t[B][1],t[B+1][0],t[B+1][1],e)));t=(z.push.apply(z,da(aa(t[m-1][0],t[m-1][1],t[0][0],t[0][1],e))),{type:"path",o:z})}else t=2===m?{type:"path",o:aa(t[0][0],t[0][1],t[1][0],t[1][1],e)}:{type:"path",o:[]};e.fill&&(a=[[a,c],[a+d,c],[a+d,c+g],[a,c+
        g]],"solid"===e.fillStyle?h.push(C(a,e)):h.push(u(a,e)));return"none"!==e.stroke&&h.push(t),this.S("rectangle",h,e)};f.prototype.ellipse=function(a,c,d,g,e){e=this.M(e);var h=[];g=S(d,g,e);d=W(a,c,e,g);e.fill&&("solid"===e.fillStyle?(a=W(a,c,e,g).$,a.type="fillPath",h.push(a)):h.push(u(d.Ba,e)));return"none"!==e.stroke&&h.push(d.$),this.S("ellipse",h,e)};f.prototype.N=function(a,c,d,g){a=this.ellipse(a,c,d,d,g);return a.shape="circle",a};b.prototype.O=function(a){for(var c=a.options||this.H.G,d=this.va,
        g=ca(a.Ja||[]),e=g.next();!e.done;e=g.next())switch(e=e.value,e.type){case "path":d.save();d.strokeStyle="none"===c.stroke?"transparent":c.stroke;d.lineWidth=c.strokeWidth;c.La&&d.setLineDash(c.La);c.Ma&&(d.lineDashOffset=c.Ma);this.T(d,e);d.restore();break;case "fillPath":d.save();d.fillStyle=c.fill||"";this.T(d,e,"curve"===a.shape||"polygon"===a.shape?"evenodd":"nonzero");d.restore();break;case "fillSketch":this.Ea(d,e,c)}};b.prototype.Ea=function(a,c,d){var g=d.u;0>g&&(g=d.strokeWidth/2);a.save();
        d.Ca&&a.setLineDash(d.Ca);d.Da&&(a.lineDashOffset=d.Da);a.strokeStyle=d.fill||"";a.lineWidth=g;this.T(a,c);a.restore()};b.prototype.T=function(a,c,d){d=void 0===d?"nonzero":d;a.beginPath();for(var g=ca(c.o),e=g.next();!e.done;e=g.next()){e=e.value;var h=e.data;switch(e.i){case "move":a.moveTo(h[0],h[1]);break;case "bcurveTo":a.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case "lineTo":a.lineTo(h[0],h[1])}}"fillPath"===c.type?a.fill(d):a.stroke()};b.prototype.line=function(a,c,d,g,e){a=this.H.line(a,
        c,d,g,e);return this.O(a),a};b.prototype.j=function(a,c,d,g,e){a=this.H.j(a,c,d,g,e);return this.O(a),a};b.prototype.ellipse=function(a,c,d,g,e){a=this.H.ellipse(a,c,d,g,e);return this.O(a),a};b.prototype.N=function(a,c,d,g){a=this.H.N(a,c,d,g);return this.O(a),a};return{canvas:function(a,c){return new b(a,c)},Sa:function(a){return new f(a)},oa:function(){return f.oa()}}}();zzfxV=.15;
        zzfx=function(b,f,n,l,p,r,q,k,w,v,K,R,Q,D,S,W,C,u,E,I){b=void 0===b?1:b;f=void 0===f?.05:f;n=void 0===n?220:n;q=void 0===q?0:q;k=void 0===k?1:k;w=void 0===w?0:w;D=void 0===D?0:D;S=void 0===S?0:S;W=void 0===W?0:W;u=void 0===u?1:u;I=void 0===I?0:I;var A=2*Math.PI,aa=w*=500*A/Math.pow(zzfxR,2),nb=(0<S?1:-1)*A/4;f=n*=(1+2*f*Math.random()-f)*A/zzfxR;var $a=[],Ba=0,xa=0,U=0,a=1,c=0,d=0,g=0,e;l=99+zzfxR*(void 0===l?0:l);E=(void 0===E?0:E)*zzfxR;p=(void 0===p?0:p)*zzfxR;r=(void 0===r?.1:r)*zzfxR;C=(void 0===
        C?0:C)*zzfxR;v=500*A/Math.pow(zzfxR,3)*(void 0===v?0:v);S*=A/zzfxR;K=A/zzfxR*(void 0===K?0:K);R=(void 0===R?0:R)*zzfxR;Q=zzfxR*(void 0===Q?0:Q)|0;for(e=l+E+p+r+C|0;U<e;$a[U++]=g){++d%(100*W|0)||(g=q?1<q?2<q?3<q?Math.sin(Math.pow(Ba%A,3)):Math.max(Math.min(Math.tan(Ba),1),-1):1-(2*Ba/A%2+2)%2:1-4*Math.abs(Math.round(Ba/A)-Ba/A):Math.sin(Ba),g=(Q?1-I+I*Math.sin(2*Math.PI*U/Q):1)*(0<g?1:-1)*Math.pow(Math.abs(g),k)*b*zzfxV*(U<l?U/l:U<l+E?1-(U-l)/E*(1-u):U<l+E+p?u:U<e-C?(e-U-C)/r*u:0),g=C?g/2+(C>U?0:(U<
        e-C?1:(e-U)/C)*$a[U-C|0]/2):g);var h=(n+=w+=v)*Math.sin(xa*S-nb);Ba+=h-h*D*(1-1E9*(Math.sin(U)+1)%2);xa+=h-h*D*(1-1E9*(Math.pow(Math.sin(U),2)+1)%2);a&&++a>R&&(n+=K,f+=K,a=0);!Q||++c%Q||(n=f,w=aa,a=a||1)}b=zzfxX.createBuffer(1,e,zzfxR);b.getChannelData(0).set($a);n=zzfxX.createBufferSource();n.buffer=b;n.connect(zzfxX.destination);n.start();return n};zzfxX=new (window.AudioContext||webkitAudioContext);zzfxR=44100;var x=[];
        x.push([{P:[1,3,6,11,14],na:[1,5,10,17],c:-2},"##########","p1g.1.1.1.g","##########","2.2.2.2.2.g","##########",".333.3333.g","##########","4.4.4.4g4#"]);x.push([{a:100,name:"A Wrapping World"},"#####.#","......#","...#..#","#.###.#",".b#t.p","..###.#"]);x.push([{a:101,name:"Infinite Inlet"},"..#","p.#",".tbt","#b.b",".tbt"]);x.push([{a:102,name:"Hallowed Hallway"},"##.##",".t.tp","bb#bb",".t.t","##.##"]);x.push([{a:103,name:"Girded Grid"},".#.#.#","t.b.t",".#.#.#","b.p.b",".#.#.#","t.b.t"]);
        x.push([{a:200,name:"Straight Spiral",c:2},"","####","","####","..b","####","t#.p","####"]);x.push([{a:201,name:"Crowned Conundrum",D:3},"pb...b","b#.#.#",".#ttt#"]);x.push([{a:202,name:"Twisted Terrace",D:3},"b..p",".##.##",".#.t.#","bbt#tb",".#.t.#",".##.##"]);x.push([{a:203,name:"Continuous Corridor",c:3},"######","tb..p","t....b","######","t#...b","tb...#"]);x.push([{a:204,name:"Grandiose Garden",c:3},"..bpb","..#.#",".#.t.#",".bt.tb",".#.t.#","..#.#"]);
        x.push([{a:300,name:"Sift & Shift"},"bt##|#","###p","####.#"]);x.push([{a:301,name:"Cornered Contraption",c:1},"p",".|","#####",".t#","###"]);x.push([{a:302,name:"Zealous Zigzag"},"#t#t#t",".-..-","###..#",".p####",".-"]);x.push([{a:303,name:"Irregular Infrastructure",c:2},"##.|",".#..p",".#..#",".#.#t","....#",""]);x.push([{a:304,name:"Enchanted Encagement"},"##.#.###.#.#","#..-..#....#","#..p..#.t.t","#..-..##","##.#.###.#.#"]);
        x.push([{a:305,name:"Riddle Raster",c:-1},"",".t","#|#",".t","#b#","pt","#|#"]);x.push([{a:306,name:"Locked Loungerooms",c:-2},"#########","####..###",".......##","####....#","####","....#...#","#....#","...||.###","##.p","tt#...###"]);x.push([{a:400,name:"Rubble Rundown"},"rrr#..r#",".pb...r#","#t######"]);x.push([{a:401,name:"Quality Questions",c:-2},"rrrrrrr","#t|#|t#","#|t#t|#","rrrprrr","#######","rrrrrrr","#t#|#t#","#|#t#|#","rrrrrrr","#######"]);
        x.push([{a:402,name:"Swirling Stars"},"....#r+tr","b##..r.rb","b.##..r.b","..t...p","#ttt#rrr#"]);x.push([{a:403,name:"Box Breakout"},"b.#.#.b",".#rpr#","#rrtrr#","...+","#rrtrr#",".#r.r#.","b.#.#.b"]);x.push([{a:404,name:"Edge Not Found",U:-1},"#.##.#...#","#b##.#...#","#p##t#####","##..######","##..######"]);
        var y=Math,ta=70,ua=1,oa=new ma,F=document.getElementById("canvas"),G=F.getContext("2d",{alpha:!1}),ya=sa.canvas(F),za=document.createElement("canvas"),H=za.getContext("2d"),Aa=sa.canvas(za),Ca=document.createElement("canvas"),Da=Ca.getContext("2d"),Ea=sa.canvas(Ca),Fa=document.createElement("canvas"),Ga=Fa.getContext("2d"),Ha=sa.canvas(Fa),Ja=document.createElement("canvas"),Ka=Ja.getContext("2d"),La=sa.canvas(Ja),Ma=document.createElement("canvas"),Na=Ma.getContext("2d"),Oa=sa.canvas(Ma),Pa=document.createElement("canvas"),
        Qa=Pa.getContext("2d"),Ra=sa.canvas(Pa),Sa=document.createElement("canvas"),Ta=Sa.getContext("2d"),Ua=sa.canvas(Sa),L=[],Va=0,Wa=0,Xa="Edge Not Found ",Ya="Press any key",ab="",bb=0,cb=0,db=0,eb=0,fb=0,gb=0;
        onkeydown=function(b){"ArrowDown"!=b.key&&"ArrowUp"!=b.key&&" "!=b.key&&"Backspace"!=b.key||b.preventDefault();if(!hb)if(ib)jb(0,!0),ib=!1;else{var f=b.key;kb=!0;"Escape"==f&&.1<=lb&&((mb=!mb)?jb(7,!0):jb(0,!0),ob=lb=0);mb||("r"==f||"R"==f?pb||(jb(6),L.push({v:qb,V:N.slice(),D:bb,c:cb}),rb(O,!1)):b.shiftKey&&"n"==f||"N"==f?rb(y.min(O+1,x.length-1)):(b.shiftKey&&"b"==f||"B"==f)&&rb(y.max(O-1,0)))}};window.onbeforeunload=function(){if(0!=O)return"Quit?"};var sb=null,tb=!1;onload=function(){sb=document.querySelector('link[rel="icon"]')};
        var O=0,ub=x[O].length,vb=x[O][0].length;wb(ta);
        var qb={x:0,y:0},xb=[],N=[],yb=[],P=[],zb=[],Ab=[],Bb="",Cb=0,Db=0,Eb=1/3,Fb=Eb,Gb=4,Hb=Gb,Ib=0,Jb=0,Kb=.075,Lb=0,Mb=0,lb=.25,mb=!1,ob=0,ib=!0,Nb=new na(["KeyS","ArrowDown"],["KeyW","ArrowUp"]),Ob=new na(["KeyD","ArrowRight"],["KeyA","ArrowLeft"]),Pb=new na(["KeyZ","Backspace"],[]),Qb=new na(["KeyX","Space","Enter"],[]),Rb=!1,T=[["Sketchbook","#ffffff","#000000","#808080","#ff0000"],["Scratchpad","#202020","#ffffff","#808080","#ffd700"],["Golden Ticket","#303030","#b29700","#8e7900","#efe7d6"],["Ikaniko",
        "#1E2A26","#7CA49B","#267B75","#C8EEE5"],["BackFlipped","#223e32","#b3dd52","#04bf00","#A7C06D"]],X=0,Sb=!0,pb=!0,hb=!1,Tb=0,kb=!0,Ub=0;window.onresize=function(){F.width=F.clientWidth;F.height=F.clientHeight;kb=!0};F.width=F.clientWidth;F.height=F.clientHeight;for(var Vb=[],Wb=0;Wb!=x.length;Wb+=1)Vb[Wb]=0;var Xb=0,Yb=window.localStorage,Zb=Yb.getItem("enf-l");if(null!=Zb)for(var $b=1;$b!=Vb.length;$b+=1)"t"==Zb[$b-1]?(Vb[$b]=2,Xb++):"f"==Zb[$b-1]&&(Vb[$b]=1);Zb=parseInt(Yb.getItem("enf-c"),0);
        0<=Zb&&Zb<T.length&&(X=Zb);Zb=parseInt(Yb.getItem("enf-t"),0);0<=Zb&&Zb<x.length&&(Tb=Zb);Zb=Yb.getItem("enf-a");"false"==Zb&&(Sb=!1);Zb=Yb.getItem("enf-r");Rb="true"==Zb;rb(O);
        function ac(){try{oa.update();Ob.update();Nb.update();Pb.update();Qb.update();if(!hb&&!ib)if(mb){var b=5;0==O&&(b=4);if(Nb.m&&1==Nb.g)ob+=1,ob>=b&&(ob=0);else if(Nb.m&&-1==Nb.g)--ob,0>ob&&(ob=b-1);else if(Qb.m)switch(ob){case 0:mb=!mb;jb(0,!0);break;case 1:(Sb=!Sb)&&jb(7,!0);bc();break;case 2:Rb=!Rb;jb(2,!0);bc();break;case 3:.2<=Jb&&(Jb=0,X++,X>=T.length&&(X=0),kb=!0,jb(2,!0));bc();break;case 4:rb(0),jb(8,!0),mb=!mb}}else{Nb.m&&cc(0,Nb.g);Ob.m&&cc(Ob.g,0);if(1==Pb.m&&0!=L.length){jb(5);b=L.pop();
        qb=b.v;N=b.V;bb=b.D;cb=b.c;Bb=Bb.slice(0,-1);pb=0==Bb.length||" "==Bb.slice(-1)?!0:!1;if(0==O){var f=dc();ec(f,1)}Db=.1;kb=!0}Qb.m&&1<=Ib&&(f=dc(),null!=f&&(Tb=P[f].target,hb=!0,Hb=0,jb(0)))}Db=y.min(Db+oa.f,.1);Fb=y.min(Fb+oa.f,Eb);Ib=y.min(Ib+oa.f,1);Hb=y.min(Hb+oa.f,Gb);Jb=y.min(Jb+oa.f,.2);Lb=y.min(Lb+oa.f,Kb);Mb=y.min(Mb+oa.f,.2);lb=y.min(lb+oa.f,.25);ib&&(Ib=.5);b=1;700>F.width||700>F.height?(ta=40,b=.6):1E3>F.width||900>F.height?(ta=55,b=.8):ta=70;var n=1,l=ta;1>Ib?(n=Ib/1,l=ta+20*b-20*b*fc(Ib/
        1)):Hb<Gb&&0!=O?(n=1-Hb/Gb,l=ta-50*b+50*b*(1-fc(Hb/Gb))):1>Hb&&0==O?(n=1-Hb/1,l=ta-20*b*fc(Hb/1)):(Hb>=Gb&&0!=O||1<=Hb&&0==O)&&hb&&(0==O?rb(Tb):(O==x.length-1&&(Xa="Victory! ",Ya="Thank you for playing!",ib=!0,jb(9)),rb(0)),n=0);Rb&&(l=ta);var p=ub*l,r=vb*l;f=!1;if(!Rb&&Fb>=Eb||l!=Ub||kb){!Rb&&Fb>=Eb&&(ua+=1,Fb=0);f=!0;l!=Ub?wb(l):(Ka.clearRect(0,0,Ja.width,Ja.height),Ka.beginPath(),Ga.clearRect(0,0,Fa.width,Fa.height),Ga.beginPath(),Na.clearRect(0,0,Ma.width,Ma.height),Na.beginPath(),Ta.clearRect(0,
        0,Sa.width,Sa.height),Ta.beginPath(),Qa.clearRect(0,0,Pa.width,Pa.height),Qa.beginPath());var q=.8;La.N(.5*l,.5*l,l*q,{fill:T[X][1],fillStyle:"solid",stroke:T[X][2],strokeWidth:1,b:ua});Ha.j(5,5,l,l,{stroke:T[X][2],fill:T[X][2],strokeWidth:1,b:ua});q=.8;Oa.j(5+.5*(1-q)*l,5+.5*(1-q)*l,l*q,l*q,{stroke:T[X][2],fill:T[X][2],strokeWidth:2,b:ua});q=1.1;Ua.j(7.5+.5*(1-q)*l,7.5+.5*(1-q)*l,l*q,l*q,{stroke:"none",fill:T[X][2],fillStyle:"dots",u:l/70,strokeWidth:2,b:ua});Ra.N(.5*l+7.5,.5*l+7.5,1.1*l,{fillStyle:"zigzag",
        fill:T[X][3],stroke:T[X][2],strokeWidth:1,b:ua})}null==sb||tb||(sb.href=Pa.toDataURL("image/png"),tb=!0);q=0!=Va||0!=Wa;0<Va?Va=y.max(0,Va-2):0>Va&&(Va=y.min(0,Va+2));0<Wa?Wa=y.max(0,Wa-2):0>Wa&&(Wa=y.min(0,Wa+2));if(f||Fb>=Eb||.2>=Db||1!=n||q)l!=Ub||kb?(za.width=r+20,za.height=p+20,Ca.width=r+20,Ca.height=p+20):(H.clearRect(0,0,za.width,za.height),H.beginPath(),Da.clearRect(0,0,Ca.width,Ca.height),Da.beginPath()),kb=!1,gc(l),f=!0;if(f||ib){f=function(W){for(var C=0;C<=K;C++)for(var u=0;u<=v;u++)G.globalAlpha=
        y.max(0,n-.1*y.abs(C)-y.abs(.1*u)),0<G.globalAlpha&&(G.drawImage(W,k+r*u+R*l*C,w+p*C+Q*l*u),0!=u&&0!=C&&G.drawImage(W,k+r*-u+R*l*-C,w+p*-C+Q*l*-u),0!=C&&G.drawImage(W,k+r*u+R*l*-C,w+p*-C+Q*l*u),0!=u&&G.drawImage(W,k+r*-u+R*l*C,w+p*C+Q*l*-u))};q=1;Rb&&(q=0);var k=y.round(.5*F.width-.5*r-10+.25*Va*q),w=y.round(.5*F.height-.5*p-10+.25*Wa*q),v=y.ceil((F.width-r+10)/r*.5),K=y.ceil((F.height-p+10)/p*.5);0!=bb&&(v+=1);0!=cb&&(K+=1);var R=bb-fb*(1-fc(y.min(Db/.1,1))),Q=cb-gb*(1-fc(y.min(Db/.1,1)));G.globalAlpha=
        1;G.fillStyle=T[X][1];G.fillRect(0,0,F.width,F.height);f(Ca);f(za);ya.j(y.round(k-5+.5*Va*q),y.round(w-5+.5*Wa*q),r+5+20,p+5+20,{stroke:T[X][2],b:ua});G.globalAlpha=1;if(ib||mb)G.globalAlpha=.4,G.fillStyle=T[X][1],G.fillRect(-1,-1,F.width+2,F.height+2),G.globalAlpha=1;ib||(G.textAlign="left",G.font=40*b+"px sans-serif",G.globalAlpha=fc(Mb/.2),hc(G,ab,40,F.height-40),G.globalAlpha=1);G.font="22px sans-serif";G.fillStyle=T[X][1];G.textAlign="center";G.textBaseline="middle";if(ib){G.font=y.round(1.2*
        ta)+"px sans-serif";G.textAlign="left";G.textBaseline="center";G.fillStyle="black";var D=Xa,S=G.measureText(D).width;D=D.repeat(y.ceil(F.width/S)+1);b=0;Rb||(b=oa.ba%5/5);hc(G,D,-b*S,.5*F.height);G.font=y.round(.5*ta)+"px sans-serif";G.textAlign="center";hc(G,Ya,.5*F.width,.6*F.height)}else mb?(S=G.globalAlpha=1,Rb||(S=fc(lb/.25)),b=400*S,ya.j(-5,-5,b+5,55+250*S,{fill:T[X][2],u:4,stroke:"none",b:y.round(ua/2)}),f=50*S,G.globalAlpha=S,ya.j(20,25+ob*f,b-40,f,{fillStyle:"none",stroke:T[X][1],b:ua}),
        G.fillStyle=T[X][1],G.textAlign="center",D="Audio: ",D=1==Sb?D+"ON":D+"OFF",G.fillText(D,.5*b,50+1*f),G.fillText("[Esc] Resume",.5*b,50),D="Reduce Motion: ",D=1==Rb?D+"ON":D+"OFF",G.fillText(D,.5*b,50+2*f),D="Theme: "+T[X][0]+" ("+(X+1)+"/"+T.length+")",G.fillText(D,.5*b,50+3*f),0!=O?G.fillText("Back to Level Select",.5*b,50+4*f):(G.font="16px sans-serif",G.fillText("Game by Tom Hermans for js13k 2020",.5*b,50+3.8*f),G.fillText("rough - Copyright (c) 2019 Preet Shihn",.5*b,50+4.2*f),G.fillText("ZzFX - Copyright (c) 2019 Frank Force",
        .5*b,50+4.6*f)),G.globalAlpha=1):hb||(ya.j(-5,-5,85,85,{fill:T[X][2],u:4,stroke:"none",b:y.round(ua/2)}),G.fillText("[Esc]",50,60),0!=O&&(G.globalAlpha=pb?.25:1,ya.j(F.width-160,F.height-80,100,50,{fill:T[X][2],u:4,stroke:"none",b:y.round(ua/2)}),G.fillText("[R] Retry",F.width-110,F.height-55),G.globalAlpha=0<L.length?1:.25,ya.j(F.width-280,F.height-80,100,50,{fill:T[X][2],u:4,stroke:"none",b:y.round(ua/2)+10}),G.fillText("[Z] Undo",F.width-230,F.height-55)))}Ub=l;window.requestAnimationFrame(ac)}catch(W){console.error("Whoops! The game crashed.",
        W)}}window.requestAnimationFrame(ac);
        function gc(b){function f(u,E){E(0,0);if(!db&&!eb){if(.5>=u.x){var I=(u.y+cb+r)%r-u.y;E(p*b,I*b)}else u.x>=p-1.5&&(I=(u.y-cb+r)%r-u.y,E(-p*b,I*b));.5>=u.y?(I=(u.x+bb+p)%p-u.x,E(I*b,r*b)):u.y>=r-1.5&&(I=(u.x-bb+p)%p-u.x,E(I*b,-r*b))}}function n(u){return 0<L.length?l(N[u],L[L.length-1].V[u]):{x:N[u].x,y:N[u].y}}function l(u,E){var I=1-Math.max(0,Math.min(Db/.1,1));if(0!=I){var A=y.round(u.x-E.x),aa=y.round(u.y-E.y);0!=A&&0!=aa?0!=Cb?(A-=y.sign(A)*p,aa=0):(aa-=y.sign(aa)*r,A=0):1<y.abs(A)?A-=y.sign(A)*
        p:1<y.abs(aa)&&(aa-=y.sign(aa)*r);I=fc(I);return{x:u.x-A*I,y:u.y-aa*I}}return{x:u.x,y:u.y}}var p=vb,r=ub,q=0<L.length?l(qb,L[L.length-1].v):{x:qb.x,y:qb.y};if(0<L.length&&!Rb){var k=Math.max(1,Math.min(L.length,7));k=y.min(k,Bb.length-Bb.lastIndexOf(" "));for(var w=0;w<k;w+=1){var v=L.length-k+w;if(0>v||v>L.length||v>Bb.length)break;var K=1;v==L.length-1&&(K=Db/.1);var R=y.max(.01,(w+K)/k*.25-1/k*.25),Q=ic(R),D={x:L[v].v.x,y:L[v].v.y},S=L[v].v.x,W=L[v].v.y;switch(Bb[v].toLowerCase()){case "u":D.y+=
        .2;W-=1.2*K;break;case "d":D.y-=.2;W+=1.2*K;break;case "l":D.x+=.2;S-=1.2*K;break;case "r":D.x+=.2,S+=1.2*K}f(D,function(u,E){u=void 0===u?0:u;E=void 0===E?0:E;Ea.line(10+(D.x+.5)*b+u,10+(D.y+.5)*b+E,10+(S+.5)*b+u,10+(W+.5)*b+E,{strokeWidth:.4*b,stroke:Q,b:ua+w,aa:.75})})}}for(k=0;k!=Ab.length;k++)H.drawImage(Sa,10+Ab[k].x*b-7.5,10+Ab[k].y*b-7.5);for(k=0;k!=yb.length;k++)H.drawImage(Pa,10+yb[k].x*b-7.5,10+yb[k].y*b-7.5);for(k=0;k!=zb.length;k++)H.globalAlpha=zb[k].target<=Xb?.2:1,H.drawImage(Ma,10+
        zb[k].x*b-5,10+zb[k].y*b-5);H.globalAlpha=1;for(k=0;k!=xb.length;k++)H.drawImage(Fa,10+xb[k].x*b-5,10+xb[k].y*b-5);for(k=0;k!=P.length;k++)H.drawImage(Pa,10+P[k].x*b-7.5,10+P[k].y*b-7.5);f(qb,function(u,E){H.drawImage(Ja,10+q.x*b+(void 0===u?0:u)+Va,10+q.y*b+(void 0===E?0:E)+Wa)});for(k={l:0};k.l!=N.length;k={l:k.l},k.l++){v=function(u){return function(E,I){E=void 0===E?0:E;I=void 0===I?0:I;H.drawImage(Ma,10+C.x*b-5+E,10+C.y*b-5+I);1!=N[u.l].shift&&3!=N[u.l].shift||Aa.line(10+C.x*b+.2*b+E,10+C.y*
        b+.5*b+I,10+C.x*b+.8*b+E,10+C.y*b+.5*b+I,{stroke:T[X][4],strokeWidth:b/7,b:ua});2!=N[u.l].shift&&3!=N[u.l].shift||Aa.line(10+C.x*b+.5*b+E,10+C.y*b+.2*b+I,10+C.x*b+.5*b+E,10+C.y*b+.8*b+I,{stroke:T[X][4],strokeWidth:b/7,b:ua})}}(k);var C=n(k.l);f(N[k.l],v)}H.textAlign="center";H.textBaseline="middle";H.fillStyle=T[X][2];for(k=0;k!=P.length;k++)H.font=y.round(.5*b)+"px sans-serif",H.fillText(x[P[k].target][0].a.toString(),10+P[k].x*b+.5*Pa.width-7.5,10+P[k].y*b-7.5+.5*Pa.height),2==Vb[k+1]?(H.font=y.round(.4*
        b)+"px sans-serif",H.fillText("\u2713",10+P[k].x*b+.75*Pa.width-7.5,10+P[k].y*b-7.5+.75*Pa.height)):0==Vb[k+1]&&(H.font="bold "+y.round(.25*b)+"px sans-serif",H.fillText("!",10+P[k].x*b+.5*Pa.width-7.5,10+P[k].y*b-7.5+.8*Pa.height));H.font=y.round(.4*b)+"px sans-serif";H.textAlign="center";H.textBaseline="middle";H.fillStyle=T[X][2];for(k=0;k!=zb.length;k++)H.globalAlpha=zb[k].target<=Xb?.2:1,hc(H,Xb+"/"+zb[k].target,10+zb[k].x*b+.5*Ma.width-5,10+zb[k].y*b-5+.5*Ma.height);H.globalAlpha=1}
        function rb(b,f){function n(K,R,Q){Q!=Tb||r||(qb={x:K,y:R},r=!0,ab=x[Tb][0].a+": "+x[Tb][0].name+" - [Space] to enter",Mb=0)}f=void 0===f?!0:f;O=b;var l=x[b].slice(),p=l.shift();0==Vb[O]&&(Vb[O]=1);bc();kb=!0;qb={x:0,y:0};xb.length=0;N.length=0;yb.length=0;P.length=0;Ab.length=0;Wa=Va=zb.length=0;pb=!0;hb=!1;ec(O);2==Vb[O]&&0!=O&&(ab+=" \u2713");bb=p.D?p.D:0;cb=p.c?p.c:0;db=p.U?p.U:0;eb=p.Oa?p.U:0;var r=!1,q=null;p.na&&(q=p.na.slice());var k=0;ub=l.length;for(var w=vb=0;w<ub;w++){vb=y.max(vb,l[w].length);
        for(var v=0;v<l[w].length;v++)switch(l[w].substring(v,v+1).toLowerCase()){case "p":r||(qb={x:v,y:w});break;case "#":xb.push({x:v,y:w});break;case "b":N.push({x:v,y:w,shift:0});break;case "-":N.push({x:v,y:w,shift:1});break;case "|":N.push({x:v,y:w,shift:2});break;case "+":N.push({x:v,y:w,shift:3});break;case "t":yb.push({x:v,y:w});break;case "1":P.push({x:v,y:w,target:q[0]});n(v,w,q[0]);q[0]++;break;case "2":if(Xb<p.P[1]){yb.push({x:v,y:w});break}P.push({x:v,y:w,target:q[1]});n(v,w,q[1]);q[1]++;break;
        case "3":if(Xb<p.P[2]){yb.push({x:v,y:w});break}P.push({x:v,y:w,target:q[2]});n(v,w,q[2]);q[2]++;break;case "4":if(Xb<p.P[3]){yb.push({x:v,y:w});break}P.push({x:v,y:w,target:q[3]});n(v,w,q[3]);q[3]++;break;case "r":Ab.push({x:v,y:w});break;case "g":zb.push({x:v,y:w,target:p.P[k]}),k++}}f?(L=[],Bb="",Ib=0,Hb=Gb):Bb+=" "}
        function jc(b,f){function n(){return b>=vb?(b-=vb,f-=cb,!0):0>b?(b+=vb,f+=cb,!0):!1}var l=n(),p=function(){return f>=ub?(f-=ub,b-=bb,!0):0>f?(f+=ub,b+=bb,!0):!1}();l||n();return{x:b,y:f,Va:l||p}}function kc(b,f,n){for(var l=0;l!=b.length;l++)if(b[l].x==f&&b[l].y==n)return l;return null}function dc(){return kc(P,qb.x,qb.y)}function lc(b,f){var n=kc(zb,b,f);return null!=zb[n]&&zb[n].target<=Xb?null:n}function fc(b){return b*(2-b)}
        function hc(b,f,n,l){b.miterLimit=2;b.strokeStyle=T[X][2];b.lineWidth=8;b.strokeText(f,n,l);b.fillStyle=T[X][1];b.fillText(f,n,l)}
        function cc(b,f){function n(Q){0==cb&&(bb-=Q,fb=-Q,Db=0,bb>.5*vb?bb-=vb:bb<.5*-vb&&(bb+=vb))}function l(Q){0==bb&&(cb-=Q,gb=-Q,Db=0,cb>=.5*ub?cb-=ub:cb<=.5*-ub&&(cb+=ub))}var p="";if(-1==b)p="l";else if(1==b)p="r";else if(1==f)p="d";else if(-1==f)p="u";else return;if(0!=b||0!=f){L.push({v:qb,V:N.slice(),D:bb,c:cb});var r=!1,q=!1;gb=fb=0;var k=jc(qb.x+b,qb.y+f),w=k.x;k=k.y;var v=kc(N,w,k);if(null!==v){var K=jc(w+b,k+f),R=K.x;K=K.y;null===kc(xb,R,K)&&null===kc(N,R,K)&&null===kc(Ab,R,K)&&(N[v]={x:R,
        y:K,shift:N[v].shift},qb={x:w,y:k},q=r=!0,0!=N[v].shift&&(1!=N[v].shift&&3!=N[v].shift||n(b),2!=N[v].shift&&3!=N[v].shift||l(f)))}else null===kc(xb,w,k)&&null===lc(w,k)&&(qb={x:w,y:k},r=!0)}if(r){Bb=q?Bb+p.toUpperCase():Bb+p;Db=0;Cb=b;pb=!1;0==O&&ec(dc(),1);db&&n(db);p=!0;if(q&&0<yb.length)for(r=0;r!=yb.length;r++){if(null===kc(N,yb[r].x,yb[r].y)){p=!1;break}}else p=!1;p?(2!=Vb[O]&&(Vb[O]=2,Xb++),bc(),jb(4,!0),hb=!0,Hb=0):q?0!=fb||0!=gb?jb(3):jb(10):jb(2)}else{if(0!=b||0!=f)jb(1),L.pop();Va=12*b;
        Wa=12*f}}
        function jb(b,f){f=void 0===f?!1:f;if(Sb&&(Lb>=Kb||f))switch(f||(Lb=0),b){case 0:zzfx.apply(null,[,.3,176,.02,,.08,3,.4,-.7,-21,-127,.01,.05,,,,.38,,.03]);break;case 1:zzfx.apply(null,[,.3,220,.02,,.08,3,.4,-.7,-21,-127,.01,.05,,,,.38,,.03]);case 2:zzfx.apply(null,[.6,.1,176,.02,,.01,3,.4,-.7,-21,-127,.01,.05,,,,.1,,.02]);break;case 10:zzfx.apply(null,[.5,.1,220,.02,,.01,3,.4,-.7,-21,-127,.01,.05,,,,.1,,.02]);break;case 3:zzfx.apply(null,[.45,.1,250,.02,,.01,3,.4,-.7,-21,-127,.01,.05,,,.1,.1,,.02]);
        break;case 4:zzfx.apply(null,[.6,,934,.12,.38,.93,1,.27,,.4,-434,.08,.2,.1,,.1,.17,.55,1,.46]);break;case 5:zzfx.apply(null,[,,110,,,,1,1.82,,.1,,,,.1,,.1,.01,.7,.02,.15]);break;case 6:zzfx.apply(null,[,,283,.02,,.11,,.38,,,,,.07,,,.1,.08,.63,.02]);break;case 7:zzfx.apply(null,[,.02,1638,,.05,.17,1,,,,490,.09,,,,.1,.05,.5,.03]);break;case 8:zzfx.apply(null,[,,98,.08,.18,.02,2,2.47,36,.5,,,.04,.1,,.9,.44,,.04]);break;case 9:zzfx.apply(null,[,,525,.18,.28,.17,1,1.24,8.3,-9.7,-151,.03,.06,,,,,.93,.02,
        .14])}}function bc(){for(var b=window.localStorage,f="",n=1;n!=Vb.length;n+=1)f=2==Vb[n]?f+"t":1==Vb[n]?f+"f":f+"n";b.setItem("enf-l",f);b.setItem("enf-c",X);b.setItem("enf-a",Sb);b.setItem("enf-r",Rb);b.setItem("enf-v",1);0!=Tb&&b.setItem("enf-t",Tb)}function ec(b,f){f=void 0===f?0:f;var n=ab;0==O||Vb.includes(2)?null!=b&&0!=b+f?(ab=x[b+f][0].a+": "+x[b+f][0].name,0==O&&(ab+=" - [Space] to enter")):ab=Vb.includes(2)?"":"WASD/Arrow Keys to move":ab="Push the box to the goal!";n!=ab&&(Mb=0)}
        function ic(b){var f=T[X][3],n=ca(T[X][1].match(/\w\w/g).map(function(k){return parseInt(k,16)})),l=n.next().value,p=n.next().value;n=n.next().value;var r=ca(f.match(/\w\w/g).map(function(k){return parseInt(k,16)}));f=r.next().value;var q=r.next().value;r=r.next().value;return"#"+y.round(l+(f-l)*b).toString(16).padStart(2,"0")+y.round(p+(q-p)*b).toString(16).padStart(2,"0")+y.round(n+(r-n)*b).toString(16).padStart(2,"0")}
        function wb(b){Ja.width=b;Ja.height=b;Fa.width=b+10;Fa.height=b+10;Ma.width=b+10;Ma.height=b+10;Sa.width=b+15;Sa.height=b+15;Pa.width=b+15;Pa.height=b+15};</script>
    </body></html>